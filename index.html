<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Каталог iOS файлов</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(135deg, #2a2a72 0%, #009ffd 100%);
      min-height: 100vh;
    }
    #loader {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      color: white;
      font-size: 1.5rem;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #sideMenu {
      transition: transform 0.3s ease;
      transform: translateX(-100%);
    }
    #sideMenu.open {
      transform: translateX(0);
    }
    #overlay.active {
      display: block;
    }
    #overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 50;
    }
    .modal {
      transition: opacity 0.3s ease;
      opacity: 0;
      pointer-events: none;
    }
    .modal.show {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body class="text-white font-sans">

  <div id="loader" class="flex">Загрузка...</div>

  <!-- Кнопка меню -->
  <button id="menuToggle" aria-label="Открыть меню" class="fixed top-4 left-4 z-50 bg-purple-700 p-3 rounded-md hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-400">
    ☰ Меню
  </button>

  <!-- Меню -->
  <nav id="sideMenu" class="fixed top-0 left-0 h-full w-64 bg-purple-900/90 shadow-lg p-6 z-50 flex flex-col gap-4">
    <button id="menuClose" aria-label="Закрыть меню" class="self-end text-2xl hover:text-purple-300">×</button>
    <h2 class="text-2xl font-bold mb-4">Категории</h2>
    <button class="menuItem text-lg p-2 rounded hover:bg-purple-700" data-catalog="games">Игры</button>
    <button class="menuItem text-lg p-2 rounded hover:bg-purple-700" data-catalog="apps">Приложения</button>
  </nav>

  <!-- Темный оверлей -->
  <div id="overlay" tabindex="-1"></div>

  <!-- Основной контент -->
  <main class="max-w-4xl mx-auto p-6 mt-16">
    <h1 id="mainListTitle" class="text-3xl font-bold mb-6">Все игры</h1>
    <div id="gamesList" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
    <button id="showMoreBtn" class="mt-6 px-5 py-2 bg-purple-700 rounded hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-400 hidden">
      Показать ещё
    </button>
  </main>

  <!-- Модальное окно -->
  <div id="gameModal" class="modal fixed inset-0 flex items-center justify-center bg-black bg-opacity-75 z-50 p-4">
    <div class="bg-purple-900 rounded-xl p-6 max-w-md w-full relative">
      <button id="modalClose" aria-label="Закрыть окно" class="absolute top-3 right-3 text-3xl hover:text-purple-300">×</button>
      <div class="flex gap-4 items-center mb-4">
        <img id="modalIcon" src="" alt="" class="w-20 h-20 rounded-lg object-cover" />
        <div>
          <h2 id="modalTitle" class="text-2xl font-bold"></h2>
          <p id="modalVersion" class="text-purple-300 mt-1"></p>
        </div>
      </div>
      <a id="modalDownload" href="#" class="block w-full bg-purple-700 text-white py-3 text-center rounded hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-400" download>
        Скачать
      </a>
    </div>
  </div>

  <script src="script.js" type="module"></script>
</body>
</html>
